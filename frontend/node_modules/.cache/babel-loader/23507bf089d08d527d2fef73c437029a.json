{"remainingRequest":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\babel-loader\\lib\\index.js!G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\src\\components\\admin\\UserAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\src\\components\\admin\\UserAdmin.vue","mtime":1586293375919},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586019558000},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1586019558000},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1586019558000}],"contextDependencies":[],"result":["import _objectSpread from \"G:\\\\nodejs\\\\udemy\\\\vue\\\\knowledge\\\\versao-inicial\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { baseApiUrl, showError } from '@/global';\nimport axios from 'axios';\nexport default {\n  name: 'UserAdmin',\n  data: function data() {\n    return {\n      mode: 'save',\n      user: {},\n      users: [],\n      fields: [{\n        key: 'id',\n        label: 'Código',\n        sortable: true\n      }, {\n        key: 'name',\n        label: 'Nome',\n        sortable: true\n      }, {\n        key: 'email',\n        label: 'E-mail',\n        sortable: true\n      }, {\n        key: 'admin',\n        label: 'Administrador',\n        sortable: true,\n        formatter: function formatter(value) {\n          return value ? 'Sim' : 'Não';\n        }\n      }, {\n        key: 'actions',\n        label: 'Ações'\n      }]\n    };\n  },\n  methods: {\n    loadUsers: function loadUsers() {\n      var _this = this;\n\n      var url = \"\".concat(baseApiUrl, \"/users\");\n      axios.get(url).then(function (res) {\n        _this.users = res.data;\n      });\n    },\n    reset: function reset() {\n      this.mode = 'save';\n      this.user = {};\n      this.loadUsers();\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var method = this.user.id ? 'put' : 'post';\n      var id = this.user.id ? \"/\".concat(this.user.id) : '';\n      axios[method](\"\".concat(baseApiUrl, \"/users\").concat(id), this.user).then(function () {\n        _this2.$toasted.global.defaultSuccess();\n\n        _this2.reset();\n      }).catch(showError);\n    },\n    remove: function remove() {\n      var _this3 = this;\n\n      var id = this.user.id;\n      axios.delete(\"\".concat(baseApiUrl, \"/users/\").concat(id)).then(function () {\n        _this3.$toasted.global.defaultSuccess();\n\n        _this3.reset();\n      }).catch(showError);\n    },\n    loadUser: function loadUser(user) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'save';\n      this.mode = mode;\n      this.user = _objectSpread({}, user);\n    }\n  },\n  mounted: function mounted() {\n    this.loadUsers();\n  }\n};",{"version":3,"sources":["UserAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoEA,SAAA,UAAA,EAAA,SAAA,QAAA,UAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,QAAA,WADA;AAEA,QAAA,gBAAA;AACA,WAAA;AACA,YAAA,MADA;AAEA,YAAA,EAFA;AAGA,aAAA,EAHA;AAIA,cAAA,CACA;AAAA,aAAA,IAAA;AAAA,eAAA,QAAA;AAAA,kBAAA;AAAA,OADA,EAEA;AAAA,aAAA,MAAA;AAAA,eAAA,MAAA;AAAA,kBAAA;AAAA,OAFA,EAGA;AAAA,aAAA,OAAA;AAAA,eAAA,QAAA;AAAA,kBAAA;AAAA,OAHA,EAIA;AAAA,aAAA,OAAA;AAAA,eAAA,eAAA;AAAA,kBAAA,IAAA;AACA,mBAAA;AAAA,iBAAA,QAAA,KAAA,GAAA,KAAA;AAAA;AADA,OAJA,EAMA;AAAA,aAAA,SAAA;AAAA,eAAA;AAAA,OANA;AAJA,KAAA;AAaA,GAhBA;AAiBA,WAAA;AACA,aADA,uBACA;AAAA;;AACA,UAAA,gBAAA,UAAA,WAAA;AACA,YAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA,cAAA,KAAA,GAAA,IAAA,IAAA;AACA,OAFA;AAGA,KANA;AAOA,SAPA,mBAOA;AACA,WAAA,IAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,EAAA;AACA,WAAA,SAAA;AACA,KAXA;AAYA,QAZA,kBAYA;AAAA;;AACA,UAAA,SAAA,KAAA,IAAA,CAAA,EAAA,GAAA,KAAA,GAAA,MAAA;AACA,UAAA,KAAA,KAAA,IAAA,CAAA,EAAA,cAAA,KAAA,IAAA,CAAA,EAAA,IAAA,EAAA;AACA,YAAA,MAAA,YAAA,UAAA,mBAAA,EAAA,GAAA,KAAA,IAAA,EACA,IADA,CACA,YAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,cAAA;;AACA,eAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,SALA;AAMA,KArBA;AAsBA,UAtBA,oBAsBA;AAAA;;AACA,UAAA,KAAA,KAAA,IAAA,CAAA,EAAA;AACA,YAAA,MAAA,WAAA,UAAA,oBAAA,EAAA,GACA,IADA,CACA,YAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,cAAA;;AACA,eAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,SALA;AAMA,KA9BA;AA+BA,YA/BA,oBA+BA,IA/BA,EA+BA;AAAA,UAAA,IAAA,uEAAA,MAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,IAAA,qBAAA,IAAA;AACA;AAlCA,GAjBA;AAqDA,SArDA,qBAqDA;AACA,SAAA,SAAA;AACA;AAvDA,CAAA","sourcesContent":["<template>\n    <div class=\"user-admin\">\n        <b-form>\n            <input id=\"user-id\" type=\"hidden\" v-model=\"user.id\" />\n            <b-row>\n                <b-col md=\"6\" sm=\"12\">\n                    <b-form-group label=\"Name:\" label-for=\"user-name\">\n                        <b-form-input id=\"user-name\" type=\"text\"\n                            v-model=\"user.name\" required\n                            :readonly=\"mode === 'remove'\"\n                            placeholder=\"Enter the User Name...\" />\n                    </b-form-group>\n                </b-col>\n                <b-col md=\"6\" sm=\"12\">\n                    <b-form-group label=\"Email:\" label-for=\"user-email\">\n                        <b-form-input id=\"user-email\" type=\"text\"\n                            v-model=\"user.email\" required\n                            :readonly=\"mode === 'remove'\"\n                            placeholder=\"Enter the User Email...\" />\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-form-checkbox id=\"user-admin\" v-show=\"mode === 'save'\"\n                v-model=\"user.admin\" class=\"mt-3 mb-3\">\n                Administrator?\n            </b-form-checkbox>\n            <b-row v-show=\"mode === 'save'\">\n                <b-col md=\"6\" sm=\"12\">\n                    <b-form-group label=\"Password:\" label-for=\"user-password\">\n                        <b-form-input id=\"user-password\" type=\"password\"\n                            v-model=\"user.password\" required\n                            placeholder=\"Enter User Password...\" />\n                    </b-form-group>\n                </b-col>\n                <b-col md=\"6\" sm=\"12\">\n                    <b-form-group label=\"Password Confirmation:\" \n                        label-for=\"user-confirm-password\">\n                        <b-form-input id=\"user-confirm-password\" type=\"password\"\n                            v-model=\"user.confirmPassword\" required\n                            placeholder=\"Confirm the User Password...\" />\n                    </b-form-group>\n                </b-col>\n            </b-row>\n            <b-row>\n                <b-col xs=\"12\">\n                    <b-button variant=\"success\" v-if=\"mode === 'save'\"\n                        @click=\"save\">Salve</b-button>\n                    <b-button variant=\"danger\" v-if=\"mode === 'remove'\"\n                        @click=\"remove\">Remove</b-button>\n                    <b-button class=\"ml-2\" @click=\"reset\">Cancel</b-button>\n                </b-col>\n            </b-row>\n        </b-form>\n        <hr>\n        <b-table hover striped :items=\"users\" :fields=\"fields\">\n            <template slot=\"actions\" slot-scope=\"data\">\n                <b-button variant=\"warning\" @click=\"loadUser(data.item)\" class=\"mr-2\">\n                    <i class=\"fa fa-pencil\"></i>\n                </b-button>\n                <b-button variant=\"danger\" @click=\"loadUser(data.item, 'remove')\">\n                    <i class=\"fa fa-trash\"></i>\n                </b-button>\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\nimport { baseApiUrl, showError } from '@/global'\nimport axios from 'axios'\n\nexport default {\n    name: 'UserAdmin',\n    data: function() {\n        return {\n            mode: 'save',\n            user: {},\n            users: [],\n            fields: [\n                { key: 'id', label: 'Código', sortable: true },\n                { key: 'name', label: 'Nome', sortable: true },\n                { key: 'email', label: 'E-mail', sortable: true },\n                { key: 'admin', label: 'Administrador', sortable: true,\n                    formatter: value => value ? 'Sim' : 'Não' },\n                { key: 'actions', label: 'Ações' }\n            ]\n        }\n    },\n    methods: {\n        loadUsers() {\n            const url = `${baseApiUrl}/users`\n            axios.get(url).then(res => {\n                this.users = res.data\n            })\n        },\n        reset() {\n            this.mode = 'save'\n            this.user = {}\n            this.loadUsers()\n        },\n        save() {\n            const method = this.user.id ? 'put' : 'post'\n            const id = this.user.id ? `/${this.user.id}` : ''\n            axios[method](`${baseApiUrl}/users${id}`, this.user)\n                .then(() => {\n                    this.$toasted.global.defaultSuccess()\n                    this.reset()\n                })\n                .catch(showError)\n        },\n        remove() {\n            const id = this.user.id\n            axios.delete(`${baseApiUrl}/users/${id}`)\n                .then(() => {\n                    this.$toasted.global.defaultSuccess()\n                    this.reset()\n                })\n                .catch(showError)\n        },\n        loadUser(user, mode = 'save') {\n            this.mode = mode\n            this.user = { ...user }\n        }\n    },\n    mounted() {\n        this.loadUsers()\n    }\n}\n</script>\n\n<style>\n\n</style>\n"],"sourceRoot":"src\\components\\admin"}]}