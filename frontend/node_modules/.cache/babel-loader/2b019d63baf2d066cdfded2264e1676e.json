{"remainingRequest":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\babel-loader\\lib\\index.js!G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\src\\components\\admin\\CategoryAdmin.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\src\\components\\admin\\CategoryAdmin.vue","mtime":1586126268702},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1586019558000},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1586019558000},{"path":"G:\\nodejs\\udemy\\vue\\knowledge\\versao-inicial\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1586019558000}],"contextDependencies":[],"result":["import _objectSpread from \"G:\\\\nodejs\\\\udemy\\\\vue\\\\knowledge\\\\versao-inicial\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { baseApiUrl, showError } from '@/global';\nimport axios from 'axios';\nexport default {\n  name: 'CategoryAdmin',\n  data: function data() {\n    return {\n      mode: 'save',\n      category: {},\n      categories: [],\n      fields: [{\n        key: 'id',\n        label: 'Code',\n        sortable: true\n      }, {\n        key: 'name',\n        label: 'Name',\n        sortable: true\n      }, {\n        key: 'path',\n        label: 'Path',\n        sortable: true\n      }, {\n        key: 'actions',\n        label: 'Actions'\n      }]\n    };\n  },\n  methods: {\n    loadCategories: function loadCategories() {\n      var _this = this;\n\n      var url = \"\".concat(baseApiUrl, \"/categories\");\n      axios.get(url).then(function (res) {\n        // this.categories = res.data\n        _this.categories = res.data.map(function (category) {\n          return _objectSpread({}, category, {\n            value: category.id,\n            text: category.path\n          });\n        });\n      });\n    },\n    reset: function reset() {\n      this.mode = 'save';\n      this.category = {};\n      this.loadCategories();\n    },\n    save: function save() {\n      var _this2 = this;\n\n      var method = this.category.id ? 'put' : 'post';\n      var id = this.category.id ? \"/\".concat(this.category.id) : '';\n      axios[method](\"\".concat(baseApiUrl, \"/categories\").concat(id), this.category).then(function () {\n        _this2.$toasted.global.defaultSuccess();\n\n        _this2.reset();\n      }).catch(showError);\n    },\n    remove: function remove() {\n      var _this3 = this;\n\n      var id = this.category.id;\n      axios.delete(\"\".concat(baseApiUrl, \"/categories/\").concat(id)).then(function () {\n        _this3.$toasted.global.defaultSuccess();\n\n        _this3.reset();\n      }).catch(showError);\n    },\n    loadCategory: function loadCategory(category) {\n      var mode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'save';\n      this.mode = mode;\n      this.category = _objectSpread({}, category);\n    }\n  },\n  mounted: function mounted() {\n    this.loadCategories();\n  }\n};",{"version":3,"sources":["CategoryAdmin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,SAAA,UAAA,EAAA,SAAA,QAAA,UAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,QAAA,eADA;AAEA,QAAA,gBAAA;AACA,WAAA;AACA,YAAA,MADA;AAEA,gBAAA,EAFA;AAGA,kBAAA,EAHA;AAIA,cAAA,CACA;AAAA,aAAA,IAAA;AAAA,eAAA,MAAA;AAAA,kBAAA;AAAA,OADA,EAEA;AAAA,aAAA,MAAA;AAAA,eAAA,MAAA;AAAA,kBAAA;AAAA,OAFA,EAGA;AAAA,aAAA,MAAA;AAAA,eAAA,MAAA;AAAA,kBAAA;AAAA,OAHA,EAIA;AAAA,aAAA,SAAA;AAAA,eAAA;AAAA,OAJA;AAJA,KAAA;AAWA,GAdA;AAeA,WAAA;AACA,kBADA,4BACA;AAAA;;AACA,UAAA,gBAAA,UAAA,gBAAA;AACA,YAAA,GAAA,CAAA,GAAA,EAAA,IAAA,CAAA,eAAA;AACA;AACA,cAAA,UAAA,GAAA,IAAA,IAAA,CAAA,GAAA,CAAA,oBAAA;AACA,mCAAA,QAAA;AAAA,mBAAA,SAAA,EAAA;AAAA,kBAAA,SAAA;AAAA;AACA,SAFA,CAAA;AAGA,OALA;AAMA,KATA;AAUA,SAVA,mBAUA;AACA,WAAA,IAAA,GAAA,MAAA;AACA,WAAA,QAAA,GAAA,EAAA;AACA,WAAA,cAAA;AACA,KAdA;AAeA,QAfA,kBAeA;AAAA;;AACA,UAAA,SAAA,KAAA,QAAA,CAAA,EAAA,GAAA,KAAA,GAAA,MAAA;AACA,UAAA,KAAA,KAAA,QAAA,CAAA,EAAA,cAAA,KAAA,QAAA,CAAA,EAAA,IAAA,EAAA;AACA,YAAA,MAAA,YAAA,UAAA,wBAAA,EAAA,GAAA,KAAA,QAAA,EACA,IADA,CACA,YAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,cAAA;;AACA,eAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,SALA;AAMA,KAxBA;AAyBA,UAzBA,oBAyBA;AAAA;;AACA,UAAA,KAAA,KAAA,QAAA,CAAA,EAAA;AACA,YAAA,MAAA,WAAA,UAAA,yBAAA,EAAA,GACA,IADA,CACA,YAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,cAAA;;AACA,eAAA,KAAA;AACA,OAJA,EAKA,KALA,CAKA,SALA;AAMA,KAjCA;AAkCA,gBAlCA,wBAkCA,QAlCA,EAkCA;AAAA,UAAA,IAAA,uEAAA,MAAA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,QAAA,qBAAA,QAAA;AACA;AArCA,GAfA;AAsDA,SAtDA,qBAsDA;AACA,SAAA,cAAA;AACA;AAxDA,CAAA","sourcesContent":["<template>\n    <div class=\"category-admin\">\n        <b-form>\n            <input id=\"category-id\" type=\"hidden\" v-model=\"category.id\" />\n            <b-form-group label=\"Name:\" label-for=\"category-name\">\n                <b-form-input id=\"category-name\" type=\"text\"\n                    v-model=\"category.name\" required\n                    :readonly=\"mode === 'remove'\"\n                    placeholder=\"Enter the Category Name...\" />\n            </b-form-group>\n            <b-form-group label=\"Parent Category:\" label-for=\"category-parentId\">\n                <b-form-select v-if=\"mode === 'save'\"\n                    id=\"category-parentId\"\n                    :options=\"categories\" v-model=\"category.parentId\" />\n                <b-form-input v-else\n                    id=\"category-parentId\" type=\"text\"\n                    v-model=\"category.path\"\n                    readonly />\n            </b-form-group>\n            <b-button variant=\"success\" v-if=\"mode === 'save'\"\n                @click=\"save\">Salvar</b-button>\n            <b-button variant=\"danger\" v-if=\"mode === 'remove'\"\n                @click=\"remove\">Excluir</b-button>\n            <b-button class=\"ml-2\" @click=\"reset\">Cancelar</b-button>\n        </b-form>\n        <hr>\n        <b-table hover striped :items=\"categories\" :fields=\"fields\">\n            <template slot=\"actions\" slot-scope=\"data\">\n                <b-button variant=\"warning\" @click=\"loadCategory(data.item)\" class=\"mr-2\">\n                    <i class=\"fa fa-pencil\"></i>\n                </b-button>\n                <b-button variant=\"danger\" @click=\"loadCategory(data.item, 'remove')\">\n                    <i class=\"fa fa-trash\"></i>\n                </b-button>\n            </template>\n        </b-table>\n    </div>\n</template>\n\n<script>\nimport { baseApiUrl, showError } from '@/global'\nimport axios from 'axios'\n\nexport default {\n    name: 'CategoryAdmin',\n    data: function() {\n        return {\n            mode: 'save',\n            category: {},\n            categories: [],\n            fields: [\n                { key: 'id', label: 'Code', sortable: true },\n                { key: 'name', label: 'Name', sortable: true },\n                { key: 'path', label: 'Path', sortable: true },\n                { key: 'actions', label: 'Actions' }\n            ]\n        }\n    },\n    methods: {\n        loadCategories() {\n            const url = `${baseApiUrl}/categories`\n            axios.get(url).then(res => {\n                // this.categories = res.data\n                this.categories = res.data.map(category => {\n                    return { ...category, value: category.id, text: category.path }\n                })\n            })\n        },\n        reset() {\n            this.mode = 'save'\n            this.category = {}\n            this.loadCategories()\n        },\n        save() {\n            const method = this.category.id ? 'put' : 'post'\n            const id = this.category.id ? `/${this.category.id}` : ''\n            axios[method](`${baseApiUrl}/categories${id}`, this.category)\n                .then(() => {\n                    this.$toasted.global.defaultSuccess()\n                    this.reset()\n                })\n                .catch(showError)\n        },\n        remove() {\n            const id = this.category.id\n            axios.delete(`${baseApiUrl}/categories/${id}`)\n                .then(() => {\n                    this.$toasted.global.defaultSuccess()\n                    this.reset()\n                })\n                .catch(showError)\n        },\n        loadCategory(category, mode = 'save') {\n            this.mode = mode\n            this.category = { ...category }\n        }\n    },\n    mounted() {\n        this.loadCategories()\n    }\n}\n</script>\n\n<style>\n\n</style>"],"sourceRoot":"src\\components\\admin"}]}